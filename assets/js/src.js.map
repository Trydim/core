{"version":3,"file":"js/src.js","sources":["webpack://my-webpack-project/./js/components/component.js","webpack://my-webpack-project/./js/components/const.js","webpack://my-webpack-project/./js/components/func.js","webpack://my-webpack-project/./js/components/modal.js","webpack://my-webpack-project/./js/components/query.js","webpack://my-webpack-project/./js/components/shadownode.js","webpack://my-webpack-project/webpack/bootstrap","webpack://my-webpack-project/webpack/runtime/define property getters","webpack://my-webpack-project/webpack/runtime/hasOwnProperty shorthand","webpack://my-webpack-project/webpack/runtime/make namespace object","webpack://my-webpack-project/./js/src.js"],"sourcesContent":["// МОДУЛИ\r\n//----------------------------------------------------------------------------------------------------------------------\r\n\r\nimport {c} from \"./const.js\";\r\nimport {f} from \"./func.js\";\r\nimport {q} from \"./query.js\";\r\n\r\n// Загрузка\r\nexport class LoaderIcon {\r\n  constructor(field, showNow = true, targetBlock = true, param = {}) {\r\n    this.node = typeof field === 'string' ? f.qS(field) : field;\r\n    if (!(this.node instanceof HTMLElement)) return;\r\n    //this.block         = targetBlock;\r\n    this.customWrap    = param.wrap || false;\r\n    this.customLoader  = param.loader || false;\r\n    this.customLoaderS = param.loaderS || false;\r\n    this.big           = !param.small || true;\r\n    showNow && this.start();\r\n  }\r\n\r\n  setParam() {\r\n    let coords = this.node.getBoundingClientRect();\r\n\r\n    this.big = coords.height > 50;\r\n    this.loaderNode = this.getTemplateNode();\r\n\r\n    this.loaderNode.style.top    = coords.y + pageYOffset + 'px';\r\n    this.loaderNode.style.left   = coords.x + pageXOffset + 'px';\r\n    this.loaderNode.style.height = coords.height;\r\n    this.loaderNode.style.width  = coords.width;\r\n  }\r\n\r\n  start() {\r\n    if (this.status) return;\r\n    this.status = true;\r\n\r\n    this.setParam();\r\n    this.big && (this.node.style.filter = 'blur(5px)');\r\n    document.body.style.position = 'relative';\r\n    document.body.append(this.loaderNode);\r\n  }\r\n\r\n  stop() {\r\n    if (!this.status) return;\r\n    this.status = false;\r\n\r\n    this.big && (this.node.style.filter = '');\r\n    document.body.style.position = '';\r\n    this.loaderNode.remove();\r\n  }\r\n\r\n  getTemplateNode() {\r\n    let n = document.createElement('div');\r\n    n.innerHTML = this.templateWrap();\r\n    return n.children[0];\r\n  }\r\n\r\n  templateWrap() {\r\n    let node = this.big ? this.template() : this.templateSmall();\r\n    return this.customWrap || `<div style=\"display: flex;align-items: center;justify-content: center;position:fixed;\">${node}</div>`;\r\n  }\r\n\r\n  template() {\r\n    let template = `\r\n    <style>\r\n    .letter-holder {\r\n      padding: 16px;\r\n    }\r\n    .letter {\r\n      float: left;\r\n      font-size: 14px;\r\n      color: #777;\r\n    }\r\n    .load-6 .letter {\r\n      animation-name: loadingF;\r\n      animation-duration: 1.6s;\r\n      animation-iteration-count: infinite;\r\n    }\r\n    .l-1 {\r\n      animation-delay: 0.48s;\r\n    }\r\n    .l-2 {\r\n      animation-delay: 0.6s;\r\n    }\r\n    .l-3 {\r\n      animation-delay: 0.72s;\r\n    }\r\n    .l-4 {\r\n      animation-delay: 0.84s;\r\n    }\r\n    .l-5 {\r\n      animation-delay: 0.96s;\r\n    }\r\n    .l-6 {\r\n      animation-delay: 1.08s;\r\n    }\r\n    .l-7 {\r\n      animation-delay: 1.2s;\r\n    }\r\n    .l-8 {\r\n      animation-delay: 1.32s;\r\n    }\r\n    .l-9 {\r\n      animation-delay: 1.44s;\r\n    }\r\n    .l-10 {\r\n      animation-delay: 1.56s;\r\n    }\r\n    @keyframes loadingF {\r\n      0% {\r\n        opacity: 0;\r\n      }\r\n      100% {\r\n        opacity: 1;\r\n      }\r\n    }\r\n    </style>\r\n    <div class=\"load-6\">\r\n      <div class=\"letter-holder\">\r\n        <div class=\"l-1 letter\">L</div>\r\n        <div class=\"l-2 letter\">o</div>\r\n        <div class=\"l-3 letter\">a</div>\r\n        <div class=\"l-4 letter\">d</div>\r\n        <div class=\"l-5 letter\">i</div>\r\n        <div class=\"l-6 letter\">n</div>\r\n        <div class=\"l-7 letter\">g</div>\r\n        <div class=\"l-8 letter\">.</div>\r\n        <div class=\"l-9 letter\">.</div>\r\n        <div class=\"l-10 letter\">.</div>\r\n      </div>\r\n    </div>\r\n    `;\r\n    return this.customLoader || template;\r\n  }\r\n\r\n  templateSmall () {\r\n    let defSmallLoader = `\r\n    <style>\r\n      .load-3 .line {\r\n        display: inline-block;\r\n        width: 15px;\r\n        height: 15px;\r\n        border-radius: 15px;\r\n        background-color: #4b9cdb;\r\n      }\r\n      .load-3 {\r\n        height: 30px;\r\n        margin-top: -5px;\r\n      }\r\n      .load-3 .line:nth-last-child(1) {\r\n        animation: loadingC 0.6s 0.1s linear infinite;\r\n      }\r\n      .load-3 .line:nth-last-child(2) {\r\n        animation: loadingC 0.6s 0.2s linear infinite;\r\n      }\r\n      .load-3 .line:nth-last-child(3) {\r\n        animation: loadingC 0.6s 0.3s linear infinite;\r\n      }\r\n      @keyframes loadingC {\r\n        0 {\r\n          transform: translate(0, 0);\r\n        }\r\n        50% {\r\n          transform: translate(0, 15px);\r\n        }\r\n        100% {\r\n          transform: translate(0, 0);\r\n        }\r\n      }\r\n    </style>\r\n    <div class=\"load-3\">\r\n      <div class=\"line\"></div>\r\n      <div class=\"line\"></div>\r\n      <div class=\"line\"></div>\r\n    </div>\r\n    `;\r\n\r\n    return this.customLoaderS || defSmallLoader;\r\n  }\r\n}\r\n\r\n// Всплывающее сообщение\r\nexport class MessageToast {\r\n  constructor() {\r\n    this.messageBlock = document.createElement(\"div\");\r\n    this.messageBlock.classList.add('notification-container', 'd-small');\r\n    document.body.append(this.messageBlock);\r\n  }\r\n\r\n  checkMsq(msg, type) {\r\n    if(!type) {\r\n      this.setMessage(type);\r\n      this.setColor('error');\r\n    } else {\r\n      this.setMessage(msg);\r\n      this.setColor('success');\r\n    }\r\n  }\r\n\r\n  setMessage(msg) {\r\n    this.messageBlock.innerHTML = msg;\r\n  }\r\n\r\n  setColor(color) {\r\n    this.messageBlock.classList.remove('success', 'warning', 'error');\r\n    switch (color) {\r\n      case 'success':\r\n        this.messageBlock.classList.add('success');\r\n        break;\r\n      case 'warning':\r\n        this.messageBlock.classList.add('warning');\r\n        break;\r\n      case 'error':\r\n      default:\r\n        this.messageBlock.classList.add('error');\r\n        break;\r\n    }\r\n  }\r\n\r\n  show(msg = 'message body', type = 'success', autoClose = true) {\r\n    const close = (delay = 3000) => {\r\n      setTimeout(() => {\r\n        this.messageBlock.remove();\r\n      }, delay);\r\n    }\r\n\r\n    if (typeof type !== 'string') this.checkMsq(msg, type); else {\r\n      this.setMessage(msg);\r\n      this.setColor(type);\r\n    }\r\n\r\n    this.messageBlock.classList.remove('d-small');\r\n    this.messageBlock.classList.add('d-large');\r\n\r\n    if (autoClose) close();\r\n    else this.messageBlock.addEventListener('click', close.bind(this, 0), {once: true});\r\n\r\n    return this.messageBlock;\r\n  }\r\n}\r\n\r\n// Печать\r\nexport const Print = () => {\r\n  let p   = Object.create(null);\r\n  p.frame = document.createElement(\"iframe\");\r\n  p.data  = 'no content'; // html\r\n\r\n  p.frame.onload = function () {\r\n    history.pushState({print: 'ok'}, '', '/');\r\n    this.sandbox  = 'allow-modals';\r\n    this.contentDocument.body.append(p.data);\r\n    this.contentWindow.print();\r\n  }\r\n\r\n  p.setContent = function (content, classList = []) {\r\n    let container = document.createElement('div'), cloneN, delay = 0,\r\n        haveImg = content.includes('<img');\r\n    classList.map(i => container.classList.add(i));\r\n    container.innerHTML = content;\r\n    if(haveImg) {\r\n      cloneN = container.cloneNode(true);\r\n      document.body.append(cloneN);\r\n      delay = 100;\r\n    }\r\n\r\n    this.data = container;\r\n\r\n    if (haveImg) {\r\n      setTimeout(() => {\r\n        cloneN.remove();\r\n      }, 200);\r\n    }\r\n\r\n    return delay;\r\n  }\r\n\r\n  p.print = function (content, classList = []) {\r\n    const scrollY = window.pageYOffset;\r\n    let delay = this.setContent(content, classList);\r\n    setTimeout(() => {\r\n      document.body.append(this.frame);\r\n      this.frame.remove();\r\n      window.scrollTo(0, scrollY);\r\n    }, delay);\r\n  }\r\n\r\n  p.orderPrint = async function (printFunc, data, type) {\r\n    let report = JSON.parse(data.order['report_value']);\r\n    this.print(await printFunc(type, report));\r\n  }\r\n\r\n  return p;\r\n}\r\n\r\n// Поиск\r\nexport const Searching = () => {\r\n  const obj = Object.create(null);\r\n\r\n  obj.init = function (param) {\r\n    let {popup = true, node, searchData,\r\n          finishFunc = () => {},\r\n          showResult = () => {}} = param,\r\n        func = (e) => this.searchFocus(e);\r\n\r\n    this.usePopup = popup; // Показывать результаты в сплывающем окне\r\n    this.searchData = searchData;\r\n    this.resultFunc = (index) => finishFunc(index);\r\n    this.returnFunc = (resultIds) => showResult(this.resultTmp, resultIds);\r\n\r\n    node.removeEventListener('focus', func);\r\n    node.addEventListener('focus', func);\r\n    node.dispatchEvent(new Event('focus'));\r\n  }\r\n\r\n  obj.setSearchData = function (data) {\r\n    this.searchData = data;\r\n    return this;\r\n  }\r\n\r\n  // Переделать когда нить. в вордпрессе очень крутой поисковик\r\n  obj.search = function (need) {\r\n    let pattern     = /(-|_|\\(|\\)|@)/gm,\r\n        cyrillic    = 'УКЕНХВАРОСМТукенхваросмт',\r\n        latin       = 'YKEHXBAPOCMTykehxbapocmt',\r\n        //cyrillicKey = 'ЙЦУКЕНГШЩЗХЪФЫВАПРОЛДЖЭЯЧСМИТЬБЮйцукенгшщзхъфывапролджэячсмитьбю',\r\n        //latinKey    = 'QWERTYUIOP{}ASDFGHJKL:\\\"ZXCVBNM<>qwertyuiop[]asdfghjkl;\\'zxcvbnm,.',\r\n        replacerLC    = (match) => latin.charAt(cyrillic.indexOf(match)),\r\n        replacerCL    = (match) => cyrillic.charAt(latin.indexOf(match)),\r\n        //replacerKeyLC = (match) => latinKey.charAt(cyrillicKey.indexOf(match)),\r\n        //replacerKeyCL = (match) => cyrillicKey.charAt(latinKey.indexOf(match)),\r\n        lettersL = new RegExp(`(${latin.split('').join('|')})`, 'gi'),\r\n        lettersC = new RegExp(`(${cyrillic.split('').join('|')})`, 'gi');\r\n    //funcKeyL = new RegExp(`(${latinKey.split('').join('|')})`, 'gi'),\r\n    //funcKeyC = new RegExp(`(${cyrillicKey.split('').join('|')})`, 'gi');\r\n\r\n    need = need.replace(pattern, '');\r\n    if (need.includes(' ')) need += '|' + need.split(' ').reverse().join(' ');\r\n\r\n    let regArr = [], i, test;\r\n\r\n    (i = need.replace(lettersL, replacerCL).replace(/ /gm, '.+')) && regArr.push(i);\r\n    (i = need.replace(lettersC, replacerLC).replace(/ /gm, '.+')) && regArr.push(i);\r\n    //(i = need.replace(funcKeyL, replacerKeyCL).replace(/ /gm, '.+')) && regArr.push(i);\r\n    //(i = need.replace(funcKeyC, replacerKeyLC).replace(/ /gm, '.+')) && regArr.push(i);\r\n    //i = `${regArr.join('|')}`;\r\n    test = new RegExp(`${regArr.join('|')}`, 'i');\r\n\r\n    return Object.entries(this.searchData)\r\n                 .map(i => test.test(i[1].replace(pattern, '')) && i[0]).filter(i => i);\r\n  }\r\n\r\n  obj.clear = function (inputNode) {\r\n    inputNode.removeEventListener('keyup', this.bindInputNodeEvent);\r\n    setTimeout(() => {\r\n      this.usePopup && this.resultTmp.remove();\r\n    }, 0);\r\n  }\r\n\r\n  // Events\r\n  const inputNodeEvent = function (e) {\r\n    let value = e.target.value;\r\n    if(value.length > 1) {\r\n      f.show(this.resultTmp);\r\n      this.returnFunc(this.search(value));\r\n    } else {\r\n      f.hide(this.resultTmp);\r\n      this.returnFunc(Object.keys(this.searchData));\r\n    }\r\n    e.key === 'Enter' && e.target.dispatchEvent(new Event('blur')) && e.target.blur();\r\n  }\r\n\r\n  obj.searchFocus = function (e) {\r\n    let target = e.target,\r\n        wrap = target.parentNode;\r\n\r\n    if(this.usePopup && !this.resultTmp) {\r\n      this.resultTmp = f.gTNode('#searchResult');\r\n      this.resultTmp.addEventListener('click', (e) => this.clickResult(e, target));\r\n    }\r\n\r\n    this.bindInputNodeEvent = inputNodeEvent.bind(this);\r\n    target.addEventListener('keyup', this.bindInputNodeEvent);\r\n    target.addEventListener('blur', () => setTimeout(() => this.clear(target), 100), {once: true});\r\n\r\n    if(this.usePopup) {\r\n      wrap.style.position = 'relative';\r\n      wrap.append(this.resultTmp);\r\n    }\r\n\r\n    target.dispatchEvent(new Event('keyup'));\r\n  }\r\n\r\n  obj.clickResult = function (e, inputNode) {\r\n    console.log(+e.target.dataset.id, e.target);\r\n    if(this.resultTmp === e.target) return;\r\n    let index = +e.target.dataset.id;\r\n\r\n    this.clear(inputNode);\r\n    //inputNode.value = this.data[index].name;\r\n    this.resultFunc(index);\r\n  }\r\n\r\n  return obj;\r\n}\r\n\r\n// Валидация\r\nexport class Valid {\r\n  constructor(param) {\r\n    let {\r\n      sendFunc = () => {},\r\n          formNode = false,\r\n          formSelector = '#authForm',\r\n          submitNode = false,\r\n          submitSelector = '#btnConfirmSend',\r\n          fileFieldSelector = false, // Если поля не будет тогда просто after\r\n          initMask = true,\r\n          phoneMask = false,\r\n        } = param;\r\n\r\n    this.valid = new Set();\r\n    try {\r\n      this.form = formNode || document.querySelector(formSelector);\r\n      this.btn =  submitNode || this.form.querySelector(submitSelector) || document.querySelector(submitSelector);\r\n    } catch (e) {\r\n      console.log(e.message); return;\r\n    }\r\n\r\n    this.initParam(param);\r\n\r\n    // Form\r\n    this.inputNodes = this.form.querySelectorAll('input[required]');\r\n    this.inputNodes.forEach(n => {\r\n      this.countNodes++;\r\n      if (n.type === 'checkbox') n.addEventListener('click', (e) => this.validate(e));\r\n      else {\r\n        n.addEventListener('keyup', (e) => this.keyEnter(e));\r\n\r\n        initMask && n.type === 'tel' && f.maskInit && f.maskInit(n, phoneMask);\r\n      }\r\n      n.addEventListener('blur', (e) => this.validate(e)); // может и не нужна\r\n    });\r\n\r\n    // Files\r\n    this.fileInput = this.form.querySelector('input[type=\"file\"]');\r\n    if (this.fileInput) {\r\n      fileFieldSelector && (this.fileField = this.form.querySelector(fileFieldSelector)); // Возможно понадобиться много полей\r\n      this.files = {};\r\n    }\r\n\r\n    // Send Btn\r\n    this.btn.onclick = (e) => this.confirm(e, sendFunc);\r\n    if (this.countNodes === 0 || this.debug) this.btnActivate();\r\n    else this.btnDisabled();\r\n\r\n    this.onEventForm();\r\n  }\r\n\r\n  initParam(param) {\r\n    let {\r\n      cssClass = {\r\n        error: 'cl-input-error',\r\n        valid: 'cl-input-valid',\r\n      },\r\n      debug = c.DEBUG || false,\r\n        } = param;\r\n    this.cssClass = cssClass;\r\n    this.debug = debug;\r\n    this.countNodes = 0;\r\n  }\r\n\r\n  // Активировать/Деактивировать кнопки\r\n  btnActivate() {\r\n    if (this.valid.size >= this.countNodes) delete this.btn.dataset.disabled;\r\n    else this.btn.dataset.disabled = '1';\r\n  }\r\n\r\n  btnDisabled() {\r\n    this.valid.clear();\r\n    this.btnActivate();\r\n  }\r\n\r\n  checkFileInput() {\r\n    let error = false;\r\n\r\n    for (const file of Object.values(this.fileInput.files)) {\r\n      let id = Math.random() * 10000 | 0;\r\n\r\n      file.fileError = file.size > 1024*1024;\r\n      if (file.fileError && !error) error = true;\r\n\r\n      this.files[id] && (id += '1');\r\n      this.files[id] = file;\r\n    }\r\n    this.fileInput.files = this.createInput().files;\r\n\r\n    this.showFiles();\r\n\r\n    if (error) {\r\n      this.setErrorValidate(this.fileInput);\r\n      this.btn.setAttribute('disabled', 'disabled');\r\n    } else {\r\n      this.setValidated(this.fileInput);\r\n      this.btnActivate();\r\n    }\r\n  }\r\n\r\n  keyEnter(e) {\r\n    if (e.key === 'Enter') {\r\n      e.target.dispatchEvent(new Event('blur'));\r\n      e.target.blur();\r\n    } else {\r\n      setTimeout(() => this.validate(e), 10);\r\n    }\r\n  }\r\n\r\n  validate(e, ignoreValue = false) {\r\n    let node = e.target || target, reg;\r\n    if (node.value.length > 0 || ignoreValue) {\r\n      switch (node.name) {\r\n        case 'name':\r\n          if (node.value.length < 2) { this.setErrorValidate(node); }\r\n          else this.setValidated(node);\r\n          break;\r\n\r\n        case 'phone': case 'tel':\r\n          reg = /[^\\d|\\(|\\)|\\s|\\-|_|\\+]/;\r\n          if (node.value.length < 18 || reg.test(String(node.value).toLowerCase())) {\r\n            this.setErrorValidate(node);\r\n          } else this.setValidated(node);\r\n          break;\r\n\r\n        case 'email':\r\n          reg = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n          if (!reg.test(String(node.value).toLowerCase())) {\r\n            this.setErrorValidate(node);\r\n          } else this.setValidated(node);\r\n          break;\r\n\r\n        default: {\r\n          this.setValidated(node);\r\n        }\r\n      }\r\n    } else this.removeValidateClasses(node);\r\n    !ignoreValue && this.btnActivate();\r\n  }\r\n\r\n  // Показать/Скрыть (ошибки) валидации\r\n  setErrorValidate(node) {\r\n    this.removeValidateClasses(node);\r\n    node.classList.add(this.cssClass.error);\r\n  }\r\n\r\n  setValidated(node) {\r\n    this.removeValidateClasses(node);\r\n    node.classList.add(this.cssClass.valid);\r\n    this.valid.add(node.id);\r\n  }\r\n\r\n  showFiles() {\r\n    let html = '';\r\n\r\n    Object.entries(this.files).forEach(([i, file]) => {\r\n      html += this.getFileTemplate(file, i);\r\n    });\r\n\r\n    if (this.fileField) this.fileField.innerHTML = html;\r\n    else this.fileInput.insertAdjacentHTML('afterend', '<div>' + html + '</div>');\r\n  }\r\n\r\n  removeValidateClasses(node) {\r\n    node.classList.remove(this.cssClass.error, this.cssClass.valid);\r\n    this.valid.delete(node.id);\r\n  }\r\n\r\n  confirm(e, sendFunc) {\r\n    if (e.target.dataset.disabled) {\r\n      this.inputNodes.forEach(target => this.validate({target}, true));\r\n      return;\r\n    }\r\n\r\n    const formData = new FormData(this.form),\r\n          finished = () => {\r\n\r\n      this.form.querySelectorAll('input')\r\n          .forEach(n => {\r\n            n.value = '';\r\n            this.removeValidateClasses(n);\r\n          });\r\n      this.btnDisabled();\r\n\r\n      //  добавить удаление события проверки файла\r\n    }\r\n\r\n    this.fileInput && formData.delete(this.fileInput.name);\r\n    this.files && Object.entries(this.files).forEach(([id, file]) => {\r\n      formData.append(id, file, file.name);\r\n    });\r\n\r\n    sendFunc(formData, finished, e);\r\n  }\r\n\r\n  clickCommon(e) {\r\n    let target = e.target.dataset.action ? e.target : e.target.closest('[data-action]'),\r\n        action = target && target.dataset.action;\r\n\r\n    if (!action) return false;\r\n\r\n    let select = {\r\n      'removeFile': () => this.removeFile(target),\r\n    }\r\n\r\n    select[action] && select[action]();\r\n  }\r\n\r\n  removeFile(target) {\r\n    delete this.files[target.dataset.id];\r\n    this.checkFileInput();\r\n  }\r\n\r\n  onEventForm() {\r\n    this.form.addEventListener('click', (e) => this.clickCommon(e));\r\n    this.fileInput && this.fileInput.addEventListener('change', this.checkFileInput.bind(this));\r\n  }\r\n\r\n  createInput() {\r\n    let input = document.createElement('input');\r\n    input.type = 'file';\r\n    return input;\r\n  }\r\n\r\n  getFileTemplate(file, i) {\r\n    return `<div class=\"attach__item ${file.fileError ? this.cssClass.error : ''}\">\r\n        <span class=\"bold\">${file.name}</span>\r\n        <span class=\"table-basket__cross\"\r\n              data-id=\"${i}\"\r\n              data-action=\"removeFile\"></span></div>`;\r\n  }\r\n}\r\n\r\n// Пагинация\r\nconst ACTIVE_CLASS = 'active';\r\nexport class Pagination {\r\n  constructor(fieldSelector = 'paginatorWrap', param) {\r\n    let {\r\n      queryParam = {}, // ссылка на объект отправляемый с функцией запроса\r\n      query, // функция запроса со страницы\r\n        } = param,\r\n        field = f.qS(fieldSelector);\r\n\r\n    if (!(field && param.query && Object.values(queryParam).length)) return;\r\n    this.activeClass    = ACTIVE_CLASS;\r\n    this.node           = field;\r\n    this.node.innerHTML = this.template();\r\n    this.prevBtn        = {node: this.node.querySelector('[data-action=\"prev\"]')};\r\n    this.onePageBtnNode = this.node.querySelector('[data-btnwrap]');\r\n    this.nextBtn        = {node: this.node.querySelector('[data-action=\"next\"]')};\r\n    this.node.onclick   = this.onclick.bind(this);\r\n    this.queryParam     = queryParam;\r\n    this.query          = query;\r\n  }\r\n\r\n  setCountPageBtn(count) {\r\n    let pageCount = Math.ceil(+count / this.queryParam.countPerPage );\r\n\r\n    if(+this.queryParam.pageCount !== +pageCount) this.queryParam.pageCount = +pageCount;\r\n    else return;\r\n\r\n    if (pageCount === 1) {\r\n      f.hide(this.prevBtn.node, this.nextBtn.node);\r\n      this.prevBtn.hidden = true;\r\n      this.nextBtn.hidden = true;\r\n      f.eraseNode(this.onePageBtnNode);\r\n      return;\r\n    }\r\n\r\n    this.fillPagination(pageCount);\r\n  }\r\n\r\n  checkBtn() {\r\n    let currPage = +this.queryParam.currPage;\r\n    if (currPage === 0 && !this.prevBtn.hidden) {\r\n      this.prevBtn.hidden = true;\r\n      f.hide(this.prevBtn.node);\r\n    } else if (currPage > 0 && this.prevBtn.hidden) {\r\n      this.prevBtn.hidden = false;\r\n      f.show(this.prevBtn.node);\r\n    }\r\n\r\n    let pageCount = this.queryParam.pageCount - 1;\r\n    if (currPage === pageCount && !this.nextBtn.hidden) {\r\n      this.nextBtn.hidden = true;\r\n      f.hide(this.nextBtn.node);\r\n    } else if (currPage < pageCount && this.nextBtn.hidden) {\r\n      this.nextBtn.hidden = false;\r\n      f.show(this.nextBtn.node);\r\n    }\r\n\r\n    this.onePageBtnNode.querySelectorAll(`[data-page]`).forEach(n => {\r\n      if (+n.dataset.page === currPage) n.classList.add(this.activeClass);\r\n      else n.classList.remove(this.activeClass);\r\n    });\r\n  }\r\n\r\n  fillPagination(count) {\r\n    let html = '', tpl,\r\n        input = this.templateBtn();\r\n\r\n    for(let i = 0; i < count; i++) {\r\n      tpl = input.replace('${page}', i.toString());\r\n      tpl = tpl.replace('${pageValue}', (i + 1).toString());\r\n      html += tpl;\r\n    }\r\n\r\n    this.onePageBtnNode.innerHTML = html;\r\n    this.checkBtn();\r\n  }\r\n\r\n  onclick(e) {\r\n    let btn = e && e.target,\r\n        key = btn && btn.dataset.action;\r\n    if (!key) return;\r\n\r\n    switch (key) {\r\n      case 'prev':\r\n        this.queryParam.currPage--;\r\n        break;\r\n      case 'next':\r\n        this.queryParam.currPage++;\r\n        break;\r\n      case 'page': this.queryParam.currPage = btn.dataset.page; break;\r\n      case 'count':\r\n        if (this.queryParam.countPerPage === +e.target.value) return;\r\n        this.queryParam.countPerPage = +e.target.value;\r\n        this.queryParam.currPage = 0;\r\n        break;\r\n    }\r\n\r\n    //this.l = new LoaderIcon(this.node);\r\n    this.checkBtn();\r\n    this.query();\r\n  }\r\n\r\n  template() {\r\n    return `<div class=\"text-center d-flex\">\r\n      <div class=\"col\"><button type=\"button\" class=\"btn-arrow\" data-action=\"prev\">&laquo;</i></button></div>\r\n      <div data-btnwrap class=\"col d-flex\"></div>\r\n      <div class=\"col\"><button type=\"button\" class=\"btn-arrow\" data-action=\"next\">&raquo;</i></button></div>\r\n\r\n      <div class=\"col\"><select class=\"select-width custom-select\" data-action=\"count\">\r\n        <option value=\"1\">1 запись</option>\r\n        <option value=\"2\">2 записи</option>\r\n        <option value=\"5\">5 записей</option>\r\n        <option value=\"20\" selected>20 записей</option>\r\n      </select></div>\r\n    </div>`;\r\n  }\r\n\r\n  templateBtn() {\r\n    return `<input type=\"button\"\r\n      value=\"\\${pageValue}\" class=\"ml-1 mr-1 input-paginator\"\r\n      data-action=\"page\" data-page=\"\\${page}\">`;\r\n  }\r\n}\r\n\r\n// Сортировка столбцов\r\nexport class SortColumns {\r\n  constructor(thead, query, queryParam) {\r\n    if (!thead || !query || !queryParam) return;\r\n    let activeClass = c.CLASS_NAME.SORT_BTN_CLASS;\r\n    this.thead = thead;\r\n    this.query = query;\r\n    this.queryParam = queryParam;\r\n    this.arrow = {\r\n      notActive: '↑↓',\r\n      arrowDown: '↓',\r\n      arrowUp: '↑',\r\n    }\r\n\r\n    // Sort Btn\r\n    this.thead.querySelectorAll('input').forEach(n => {\r\n      n.addEventListener('click', (e) => this.sortRows.call(this, e));\r\n      n.value += ' ' + this.arrow.notActive;\r\n\r\n      if (n.dataset.ordercolumn === this.queryParam.sortColumn) {\r\n        n.classList.add(activeClass);\r\n        n.value = n.value.replace(this.arrow.notActive, this.arrow.arrowDown);\r\n      }\r\n\r\n    });\r\n  }\r\n\r\n  // сортировка\r\n  sortRows(e) { /*↑↓*/\r\n    let input = e.target,\r\n        colSort = input.getAttribute('data-ordercolumn'),\r\n        activeClass = c.CLASS_NAME.SORT_BTN_CLASS,\r\n        {notActive, arrowDown, arrowUp} = this.arrow,\r\n        arrowReg = new RegExp(`${notActive}|${arrowDown}|${arrowUp}`);\r\n\r\n    if(this.queryParam.sortColumn === colSort) {\r\n      this.queryParam.sortDirect = !this.queryParam.sortDirect;\r\n    } else {\r\n      this.queryParam.sortColumn = colSort;\r\n      this.queryParam.sortDirect = false;\r\n    }\r\n\r\n    let node = this.thead.querySelector(`input.${activeClass}`);\r\n    if (node !== input) {\r\n      node && node.classList.remove(activeClass);\r\n      node && (node.value = node.value.replace(arrowReg, notActive));\r\n      input.classList.add(activeClass);\r\n    }\r\n\r\n    if (this.queryParam.sortDirect) input.value = input.value.replace(arrowReg, arrowUp);\r\n    else input.value = input.value.replace(arrowReg, arrowDown);\r\n\r\n    this.query();\r\n  }\r\n}\r\n\r\n// Сохрание заказво посетителей\r\nexport class SaveVisitorsOrder {\r\n  constructor(cpNumber) {\r\n    this.nodes = [];\r\n    this.createCpNumber = cpNumber || this.createCpNumberDefault;\r\n  }\r\n\r\n  /**\r\n   * Add nodes to\r\n   * @param collection {nodes[]}\r\n   * @param report {!{cpNumber, inputValue, importantValue, total}}\r\n   * @param event {string}\r\n   *\r\n   * @return result {object} - object contains result work save function;\r\n   */\r\n  setSaveVisitors(collection, report, event = 'click') {\r\n    const result = Object.create(null);\r\n    collection = this.checkNewNodes(collection);\r\n    collection.forEach(n => {\r\n      n.addEventListener(event, (e) => {\r\n        result.cpNumber = this.addOrder(e, report);\r\n      });\r\n    })\r\n    return result;\r\n  }\r\n\r\n  createCpNumberDefault() {\r\n    return new Date().getTime().toString().slice(7);\r\n  }\r\n\r\n  checkNewNodes(c) {\r\n    if (c instanceof NodeList) c = Object.values(c);\r\n    else if (typeof c !== 'object' || !c.length) c = [c];\r\n    return c.filter(n => !this.nodes.includes(n));\r\n  }\r\n\r\n  addOrder(e, report) {\r\n    console.log('save');\r\n    typeof report === 'function' && (report = report());\r\n\r\n    // Обязательно проверять есть ли вообще что сохранять\r\n    if (!report || !Object.values(report).length) return;\r\n\r\n    const data = new FormData();\r\n    this.cpNumber = this.createCpNumber();\r\n\r\n    data.set('mode', 'DB');\r\n    data.set('dbAction', 'saveVisitorOrder');\r\n    data.set('cpNumber', this.cpNumber);\r\n    data.set('inputValue', JSON.stringify(report['inputValue'] || false));\r\n    data.set('importantValue', JSON.stringify(report['importantValue'] || false));\r\n    data.set('total', report.total);\r\n\r\n    q.Post({data});\r\n  }\r\n\r\n  /** return Promise use await */\r\n  async getCpNumber() {\r\n    return await new Promise((res, err) => {\r\n      let i = setInterval(() => this.cpNumber && res(this.cpNumber), 50);\r\n      setTimeout(() => clearInterval(i) && err(''), 1000);\r\n    });\r\n  }\r\n}\r\n","'use strict';\r\n\r\n/**\r\n * Global variables and simple functions\r\n */\r\nexport const c = {\r\n  DEBUG        : !!(window['DEBUG'] || false),\r\n  OUTSIDE      : window['CL_OUTSIDE'],\r\n  SITE_PATH    : window['SITE_PATH'] || '/',\r\n  MAIN_PHP_PATH: (window['SITE_PATH'] || '/') + 'index.php',\r\n  PUBLIC_PAGE  : (window['PUBLIC_PAGE'] || 'calculator'),\r\n  PATH_IMG     : (window['PATH_IMG'] || 'public/images/'),\r\n  AUTH_STATUS  : !!(window['AUTH_STATUS'] || false),\r\n\r\n  CURRENT_EVENT: 'none',\r\n  PHONE_MASK: '+7 (___) ___ __ __',\r\n\r\n  // Global IDs\r\n  // ------------------------------------------------------------------------------------------------\r\n  ID: {\r\n    AUTH_BLOCK: 'authBlock',\r\n    POPUP: {\r\n      title: 'popup_title',\r\n    },\r\n    PUBLIC_PAGE: 'publicPageLink'\r\n  },\r\n\r\n  CLASS_NAME: {\r\n    // css класс который добавляется кнопкам сортировки\r\n    SORT_BTN_CLASS: 'btn-light',\r\n    // css класс который добавляется скрытым элементам\r\n    HIDDEN_NODE: 'd-none',\r\n    // css класс который добавляется неактивным элементам\r\n    DISABLED_NODE: 'disabled',\r\n    // css класс который добавляется при загрузке\r\n    LOADING: 'loading-st1',\r\n  },\r\n\r\n  // Пробное\r\n  calcWrap: document.querySelector('#wrapCalcNode'),\r\n};\r\n","import {c} from \"./const.js\";\r\nimport {q} from \"./query.js\";\r\n\r\nconst func = {\r\n\r\n  // Simple and often used function\r\n  // ------------------------------------------------------------------------------------------------\r\n\r\n  log: (msg) => c.DEBUG && console.log('Error:' + msg),\r\n\r\n  /**\r\n   * deprecated wrap for f.qS\r\n   * @param id\r\n   * @return {HTMLElement | {}}\r\n   */\r\n  gI: (id) => func.qS('#' + id),\r\n\r\n  /**\r\n   * @param selector\r\n   * @param node\r\n   * @return {HTMLElement | {}}\r\n   */\r\n  qS: (selector = '', node = c.calcWrap) => {\r\n    node = node || document;\r\n    return node.querySelector(selector) || document.querySelector(selector) || func.log(selector);\r\n  },\r\n\r\n  /**\r\n   *\r\n   * @param selector {string} - css selector string\r\n   * @param nodeKey {string/null} - param/key\r\n   * @param value - value/function, function (this, Node list, current selector)\r\n   * @return NodeListOf<HTMLElementTagNameMap[*]>|object\r\n   */\r\n  qA: (selector, nodeKey = null, value = null) => {\r\n    let  node = c.calcWrap || document,\r\n         nodeList = node.querySelectorAll(selector);\r\n    if (!nodeList) return {};\r\n    if (nodeKey && value) nodeList.forEach((item) => {\r\n      if(typeof value === 'function') {\r\n        item.addEventListener(nodeKey, (e) => value.call(item, e, nodeList, selector));\r\n        //item[nodeKey] = () => value.call(item, nodeList, selector);\r\n      } else {\r\n        item[nodeKey] = value;\r\n      }\r\n    });\r\n    return nodeList;\r\n  },\r\n\r\n  /**\r\n   * получить html шаблона\r\n   *\r\n   * @param selector {string}\r\n   * @return {string}\r\n   */\r\n  gT: (selector) => { let node = func.qS(selector); return node ? node.content.children[0].outerHTML : 'Not found template' + id},\r\n\r\n  /**\r\n   * Получить Node шаблона\r\n   * @param selector {string}\r\n   * @returns {Node}\r\n   */\r\n  gTNode: (selector) => func.qS(selector).content.children[0].cloneNode(true),\r\n\r\n  // перевод в число\r\n  toNumber: (input) => +(input.replace(/(\\s|\\D)/g, '')),\r\n\r\n  // Формат цифр (разделение пробелом)\r\n  setFormat: (num) => (num.toFixed(0)).replace(/\\B(?=(\\d{3})+(?!\\d))/g, \" \"),\r\n\r\n  /** Показать элементы, аргументы коллекции NodeList */\r\n  show: (...collection) => { collection.map(nodes => {\r\n    if(!nodes) return;\r\n    if(!nodes.forEach) nodes = [nodes];\r\n    nodes.forEach(n => n.classList.remove(c.CLASS_NAME.HIDDEN_NODE));\r\n  }) },\r\n\r\n  /**\r\n   * Скрыть элементы\r\n   * @param collection\r\n   */\r\n  hide: (...collection) => { collection.map(nodes => {\r\n    if(!nodes) return;\r\n    if(!nodes.forEach) nodes = [nodes];\r\n    nodes.forEach(n => n.classList.add(c.CLASS_NAME.HIDDEN_NODE));\r\n  }) },\r\n\r\n  /**\r\n   * Очистить узел от дочерних элементов (почему-то быстрее чем через innerHTMl)\r\n   * @param node\r\n   * @returns {*}\r\n   */\r\n  eraseNode: (node) => {\r\n    let n;\r\n    while ((n = node.firstChild)) n.remove();\r\n    return node;\r\n  },\r\n\r\n  /**\r\n   * Replace latin to cyrillic symbol\r\n   * @param value\r\n   * @return {void | string}\r\n   */\r\n  replaceLetter: (value) => {\r\n    let cyrillic = 'УКЕНХВАРОСМТ',\r\n        latin    = 'YKEHXBAPOCMT',\r\n        replacer = (match) => cyrillic.charAt(latin.indexOf(match)),\r\n        letters  = new RegExp(`(${latin.split('').join('|')})`, 'gi');\r\n    return value.replace(letters, replacer).replace(/(&nbsp| | )/g, '').toLowerCase(); // какой-то пробел\r\n  },\r\n\r\n  /**\r\n   * replace ${key from obj} from template to value from obj\r\n   * @param tmpString html string template\r\n   * @param arrayObjects array of object\r\n   * @return {string}\r\n   */\r\n  replaceTemplate: (tmpString, arrayObjects) => {\r\n    let html = '';\r\n\r\n    if (tmpString) {\r\n      if (!arrayObjects.map) arrayObjects = [arrayObjects];\r\n\r\n      arrayObjects.map(item => {\r\n        let tmp = tmpString.trim();\r\n        Object.entries(item).map(v => {\r\n          if (!v[1]) v[1] = '';\r\n          let reg = new RegExp(`\\\\\\${${v[0]}}`, 'mgi');\r\n          tmp     = tmp.replace(reg, v[1].toString().replace(/\"/g, '\\'')); // replace ${key from obj} from template to value from obj //не помогло\r\n        });\r\n\r\n        html += tmp;\r\n      })\r\n    }\r\n\r\n    return html;\r\n  },\r\n\r\n  /**\r\n   * Переписан без JQuery.(не зависим)\r\n   * Селекторы должны иметь класс useToggleOption\r\n   * Input-ы будут открывать зависимые поля когда активен(checked)\r\n   * Если добавить класс \"opposite\", то будут скрывать когда активен\r\n   * цель data-target=\"name\", у цели добавить в класс\r\n   * опции селектора могут иметь data-target=\"name\"\r\n   * Если в классе цели добавить No, например nameNo, цель будет скрываться когда input выбран\r\n   *\r\n   * (в разработке)\r\n   * Если цель зависима от нескольких полей в атрибуте data-toggle,\r\n   *   перечистиль название целей через пробел.\r\n   *\r\n   *\r\n   */\r\n  relatedOption: (node = document) => {\r\n    const qs = (s) => node.querySelectorAll(s),\r\n          ga = (i, a) => i.getAttribute(a),\r\n          hide = (n) => n.classList.add('d-none'),\r\n          show = (n) => n.classList.remove('d-none'),\r\n          getOtherTarget = (cur, toggle) => toggle.split(' ').filter(i => i !== cur),\r\n          setTarget = (n, t) => n.dataset[t] = '+';\r\n\r\n\r\n    const checkTarget = (n, t) => {\r\n      if (!n.dataset.toggle) return;\r\n      delete n.dataset[t];\r\n\r\n      for (const elem of getOtherTarget(t, n.dataset.toggle)) {\r\n        if (n.dataset[elem]) return true;\r\n      }\r\n    }\r\n\r\n    const selectChange = function (check = false) {\r\n      let opList = Object.values(this.options);\r\n\r\n      for (let item of opList) { //Скрыть все\r\n        let t = item.getAttribute('data-target'),\r\n            nodeTL = t && qs(`.${t}, .${t}No`);\r\n\r\n        if (nodeTL) nodeTL.forEach(i => {\r\n          if (checkTarget(i, t)) return;\r\n          hide(i);\r\n        });\r\n      }\r\n\r\n      for (let item of opList) {// Открыть нужные\r\n        let t = item.getAttribute('data-target'),\r\n            nodeTL = t && qs(`.${t}`);\r\n\r\n        if (item.selected && nodeTL) nodeTL.forEach(i => {\r\n          if (i.dataset.toggle) {\r\n            const arr = getOtherTarget(t, i.dataset.toggle);\r\n          }\r\n          show(i);\r\n        });\r\n      }\r\n\r\n      for (let item of opList) {// Открыть противоположные\r\n        let t = item.getAttribute('data-target'),\r\n            nodeTL = t && qs(`.${t}No`);\r\n\r\n        if (!item.selected && nodeTL) nodeTL.forEach(i => {\r\n          if (i.dataset.toggle) setTarget(i, t);\r\n          show(i);\r\n        })\r\n      }\r\n    };\r\n\r\n    qs('input[data-target]').forEach(node => {\r\n      let nameAttr = node.name ? `[name=\"${node.name}\"]` : '';\r\n\r\n      if (nameAttr) {\r\n        let items = qs(`input${nameAttr}`);\r\n\r\n        node.onchange = () => {\r\n          items.forEach(item => { // Скрываем все зависимые поля\r\n            let t = ga(item, 'data-target');\r\n            //if (t) $('.' + t).hide().addClass('hidden');\r\n            if (t) qs(`.${t}, .${t}No`).forEach(i => hide(i));\r\n          });\r\n\r\n          items.forEach(item => { // Открываем все зависимые поля\r\n            //if (t && item.checked) $('.' + t).show().removeClass('hidden');\r\n            let t = ga(item, 'data-target'),\r\n                flag = item.classList.contains('opposite') ? !item.checked : item.checked;\r\n            if (t && flag) qs(`.${t}`).forEach(i => show(i));\r\n            if (t && !flag) qs(`.${t}No`).forEach(i => show(i));\r\n          });\r\n        };\r\n      }\r\n      else {\r\n        let target = ga(node, 'data-target'),\r\n            nodeTL = qs(`.${target}`);\r\n\r\n        node.onchange = () => {\r\n          if (node.checked) nodeTL.forEach(i => show(i));\r\n          else nodeTL.forEach(i => hide(i));\r\n        };\r\n      }\r\n\r\n      node.dispatchEvent(new Event('change'));\r\n    });\r\n\r\n    qs('select.useToggleOption').forEach(node => {\r\n      node.onchange = selectChange;\r\n      node.dispatchEvent(new Event('change'));\r\n    });\r\n  },\r\n\r\n  // Получить и скачать файл\r\n  createLink: (fileName) => {\r\n    //let date = new Date();\r\n    //fileName += '_' + date.getDate() + (\"0\" + (date.getMonth() + 1)).slice(-2) + (date.getYear() - 100) + '_' + date.getHours() + date.getMinutes() + date.getSeconds() + '.pdf';\r\n    let a = document.createElement('a');\r\n    a.setAttribute('download', fileName);\r\n    return a;\r\n  },\r\n\r\n  /**\r\n   * Save file from browser\r\n   * @param data {{'name', 'type' , 'blob'}}\r\n   *\r\n   * @example for PDF:\r\n   * {name: 'file.pdf',\r\n   * type: 'base64',\r\n   * blob: 'data:application/pdf;base64,' + data['pdfBody']}\r\n   */\r\n  saveFile: (data) => {\r\n    const {name = 'download.file', blob} = data;\r\n    let link = func.createLink(name);\r\n    if (data.type === 'base64') link.href = blob;\r\n    else link.href = URL.createObjectURL(blob);\r\n    link.click();\r\n  },\r\n\r\n  // Маска для телефона\r\n  maskInit: (node, phoneMask) => {\r\n    if (!node) return;\r\n    const minValue = 2;\r\n\r\n    const mask = (e) => {\r\n      let target = e.target, i = 0,\r\n          matrix = phoneMask || c.PHONE_MASK,\r\n          def = matrix.replace(/\\D/g, \"\"),\r\n          val = target.value.replace(/\\D/g, \"\");\r\n\r\n      if (def.length >= val.length) val = def;\r\n      target.value = matrix.replace(/./g,\r\n        a => /[_\\d]/.test(a) && i < val.length ? val.charAt(i++) : i >= val.length ? \"\" : a );\r\n\r\n      if (e.type === \"blur\" && target.value.length <= minValue) target.value = \"\";\r\n    }\r\n\r\n    ['input', 'focus', 'blur'].map(e => node.addEventListener(e, mask));\r\n  },\r\n\r\n  // Активировать элементы\r\n  enable: (...collection) => {\r\n    collection.map(nodes => {\r\n      if(!nodes.forEach) nodes = [nodes];\r\n      nodes.forEach(n => {\r\n\r\n        n.classList.remove(c.CLASS_NAME.DISABLED_NODE);\r\n        n.removeAttribute('disabled');\r\n\r\n        /*switch (n.tagName) { TODO что это\r\n         case 'BUTTON': case 'INPUT': { }\r\n         case 'A': { }\r\n         }*/\r\n      });\r\n    });\r\n  },\r\n\r\n  // Деактивировать элементы\r\n  disable: (...collection) => {\r\n    collection.map(nodes => {\r\n      if(!nodes.forEach) nodes = [nodes];\r\n      nodes.forEach(n => {\r\n        n.classList.add(c.CLASS_NAME.DISABLED_NODE);\r\n        n.setAttribute('disabled', 'disabled');\r\n      });\r\n    });\r\n  },\r\n\r\n  // Добавить иконку загрузки\r\n  setLoading: (node) => {\r\n    if(!node) return;\r\n    node.classList.add(c.CLASS_NAME.LOADING);\r\n  },\r\n\r\n  /**\r\n   * Функция по умолчанию\r\n   * @param report\r\n   * @param number\r\n   * @returns {string}\r\n   */\r\n  printReport: (report, number = 1) => {\r\n    let table = f.gTNode('#printTable'),\r\n        html = '';\r\n\r\n    Object.values(report).map(i => {\r\n      html += `<tr><td>${i[0]}</td><td>${i[1]}</td><td>${i[2]}</td></tr>`;\r\n    });\r\n\r\n    if (number) table.querySelector('#number').innerHTML = number.toString();\r\n    else table.querySelector('#numberWrap').classList.add(f.CLASS_NAME.HIDDEN_NODE);\r\n    table.querySelector('tbody').innerHTML = html;\r\n    return table.outerHTML;\r\n  },\r\n\r\n  // Удалить иконку загрузки\r\n  removeLoading: (node) => {\r\n    node && node.classList.remove(c.CLASS_NAME.LOADING);\r\n  },\r\n\r\n  /**\r\n   *\r\n   * @param target HTML node (loading field)\r\n   * @param report object: send to pdf\r\n   * @param finishOk function\r\n   * @param err function\r\n   */\r\n  downloadPdf(target, report = {}, finishOk = () => {}, err = () => {}) {\r\n    if (!Object.keys(report).length) { err(); return; }\r\n\r\n    let data = new FormData();\r\n\r\n    func.setLoading(target);\r\n\r\n    //data.set('dbAction', 'DB');\r\n    data.set('mode', 'docs');\r\n    data.set('docType', 'pdf');\r\n    data.set('reportVal', JSON.stringify(report));\r\n\r\n    q.Post({data}).then(data => {\r\n      func.removeLoading(target);\r\n      if (data['pdfBody']) {\r\n        f.saveFile({\r\n          name: data['name'],\r\n          type: 'base64',\r\n          blob: 'data:application/pdf;base64,' + data['pdfBody']\r\n        });\r\n        finishOk();\r\n      }\r\n    });\r\n  },\r\n\r\n  /**\r\n   * Словарь\r\n   */\r\n  dictionaryInit() {\r\n    const d = Object.create(null),\r\n          node = f.qS('#dictionaryData');\r\n\r\n    if (!node) return;\r\n    d.data = JSON.parse(node.value);\r\n    node.remove();\r\n\r\n    d.getTitle = function (key) { return this.data[key] || key; }\r\n\r\n    /**\r\n     * Template string can be param (%1, %2)\r\n     * @param key - array, first item must be string\r\n     * @returns {*}\r\n     * @private\r\n     */\r\n    d.translate = function (...key) {\r\n      if(key.length === 1) return d.getTitle(key[0]);\r\n      else {\r\n        let str = d.getTitle(key[0]);\r\n        for(let i = 1; i< key.length; i++) {\r\n          if(key[i]) str = str.replace(`%${i}`, key[i]);\r\n        }\r\n        return str;\r\n      }\r\n    };\r\n    window._ = d.translate;\r\n  },\r\n\r\n  // Курсы валют (РФ)\r\n  setRate(dataSelector = '#dataRate') {\r\n    let node = f.qS(dataSelector), json;\r\n    node && (json = JSON.parse(node.value)) && node.remove();\r\n    json && (this.rate = json['curs']);\r\n  },\r\n\r\n  // Border warning\r\n  flashNode(item) {\r\n    let def                 = item.style.boxShadow;\r\n    item.style.boxShadow    = '0px 0px 4px 1px red';\r\n    item.style.borderRadius = '4px';\r\n    item.style.transition   = 'all 0.2s ease';\r\n    setTimeout(() => {\r\n      item.style.boxShadow = def || 'none';\r\n    }, 1000);\r\n  },\r\n\r\n  /**\r\n   * Try parse to float number from any string\r\n   * @val v string\r\n   */\r\n  parseNumber(v) {\r\n    typeof v === 'string' && (v = v.replace(',', '.'));\r\n    !isFinite(v) && (v = parseFloat(v.match(/\\d+|\\.|\\d+/g).join('')));\r\n    !isFinite(v) && (v = 0);\r\n    return +v;\r\n  },\r\n}\r\n\r\nexport const f = Object.assign(func, q);\r\n","// Модальное окно\r\n//----------------------------------------------------------------------------------------------------------------------\r\n\r\nimport {c} from \"./const.js\";\r\nimport {f} from \"./func.js\";\r\n\r\n/**\r\n * Модальное окно\r\n * @param param {{modalId: string, template: string, showDefaultButton: boolean, btnConfig: boolean}}\r\n  */\r\nexport const Modal = (param = {}) => {\r\n  let modal = Object.create(null),\r\n      data = Object.create(null),\r\n      {\r\n        modalId = 'adminPopup',\r\n        template = '',\r\n        showDefaultButton = true,\r\n        btnConfig = false,\r\n      } = param;\r\n\r\n  const findNode = (n, role) => n.querySelector(`[data-role=\"${role}\"]`);\r\n\r\n  modal.bindBtn = function () {\r\n    this.wrap.querySelectorAll('.close-modal, .confirmYes, .closeBtn')\r\n        .forEach(n => n.addEventListener('click', () => this.hide()));\r\n  }\r\n  modal.btnConfig = function (key, param = Object.create(null)) {\r\n    let node = this.wrap.querySelector('.' + key.replace('.', ''));\r\n    node && param && Object.entries(param).forEach(([k, v]) => {node[k] = v});\r\n  }\r\n  modal.onEvent = function () {\r\n    let func = function (e) {\r\n      if (e.key === 'Escape') {\r\n        modal.hide();\r\n        document.removeEventListener('keyup', func);\r\n      }\r\n    }\r\n    document.addEventListener('keyup', func);\r\n  }\r\n  modal.querySelector = function (selector) { return this.wrap.querySelector(selector) }\r\n  modal.querySelectorAll = function (selector) { return this.wrap.querySelectorAll(selector) }\r\n\r\n  /**\r\n   * Show modal window\r\n   * @param title Nodes | string[]\r\n   * @param content Nodes | string[]\r\n   */\r\n  modal.show = function (title, content = '') {\r\n    this.title && title !== undefined && f.eraseNode(this.title).append(title);\r\n    this.content && content && f.eraseNode(this.content).append(content);\r\n\r\n    data.bodyOver = document.body.style.overflow;\r\n    data.scrollY = Math.max(window.scrollY, window.pageYOffset, document.body.scrollTop);\r\n    document.body.style.overflow = 'hidden';\r\n\r\n    if (document.body.scrollHeight > window.innerHeight && window.innerWidth > 800) {\r\n      data.bodyPaddingRight = document.body.style.paddingRight;\r\n      document.body.style.paddingRight = '16px';\r\n    }\r\n\r\n    this.wrap.classList.add('active');\r\n    this.window.classList.add('active');\r\n    modal.onEvent();\r\n  }\r\n\r\n  modal.hide = function () {\r\n    this.wrap.classList.remove('active');\r\n    this.window.classList.remove('active');\r\n\r\n    setTimeout( () => {\r\n      document.body.style.overflow = data.bodyOver || 'initial';\r\n      document.body.style.cssText = 'scroll-behavior: initial';\r\n      window.scrollTo(0, data.scrollY);\r\n      document.body.style.cssText = '';\r\n      //document.body.style.scrollBehavior = 'smooth';\r\n      if (document.body.scrollHeight > window.innerHeight)\r\n        document.body.style.paddingRight = data.bodyPaddingRight || 'initial';\r\n    }, 300);\r\n    //c.eraseNode(modal.content);\r\n  }\r\n\r\n  modal.setTemplate = function () {\r\n    const node = document.createElement('div');\r\n    node.insertAdjacentHTML('afterbegin', template || templatePopup());\r\n\r\n    this.wrap     = node.children[0];\r\n    this.window   = findNode(node, 'window');\r\n    this.title    = findNode(node, 'title');\r\n    this.content  = findNode(node, 'content');\r\n    this.btnField = findNode(node, 'bottomFieldBtn');\r\n\r\n    if (btnConfig) this.btnConfig(btnConfig);\r\n    else this.btnField && !showDefaultButton && f.eraseNode(this.btnField);\r\n\r\n    //document.head.insertAdjacentHTML('beforeend', `<link rel=\"stylesheet\" href=\"${c.SITE_PATH}core/assets/css/libs/modal.css\">`);\r\n    document.body.append(node.children[0]);\r\n  }\r\n\r\n  const templatePopup = () => {\r\n    return `\r\n    <div class=\"modal-overlay\" id=\"${modalId}\">\r\n      <div class=\"modal p-15\" data-role=\"window\">\r\n        <button type=\"button\" class=\"close-modal\">\r\n          <span class=\"close-icon\">✖</span>\r\n        </button>\r\n        <div class=\"modal-title\" data-role=\"title\">Title</div>\r\n        <div class=\"w-100 pt-20\" data-role=\"content\"></div>\r\n        <div class=\"modal-button\" data-role=\"bottomFieldBtn\">\r\n          <input type=\"button\" class=\"confirmYes btn btn-success\" value=\"Подтвердить\" data-action=\"confirmYes\">\r\n          <input type=\"button\" class=\"closeBtn btn btn-warning\" value=\"Отмена\" data-action=\"confirmNo\">\r\n        </div>\r\n      </div>\r\n    </div>`;\r\n  }\r\n\r\n\r\n\r\n  modal.setTemplate();\r\n  //btnConfig && modal.btnConfig(btnConfig);\r\n  modal.bindBtn();\r\n\r\n  return modal;\r\n}\r\n","import {c} from \"./const.js\";\r\n\r\n// Query Object -----------------------------------------------------------------------------------------------------------------\r\n\r\nconst checkJSON = (data) => {\r\n  try { return JSON.parse(data); }\r\n  catch (e) { f.showMsg(data, 'error', false); return {status: false} }\r\n};\r\n\r\nconst downloadBody = async (data) => {\r\n  const fileName = JSON.parse(data.headers.get('fileName')),\r\n        reader = data.body.getReader();\r\n  let chunks = [],\r\n      countSize = 0;\r\n\r\n  while(true) {\r\n    // done становится true в последнем фрагменте\r\n    // value - Uint8Array из байтов каждого фрагмента\r\n    const {done, value} = await reader.read();\r\n\r\n    if (done) break;\r\n\r\n    chunks.push(value);\r\n    countSize += value.length;\r\n  }\r\n  return Object.assign(new Blob(chunks), {fileName});\r\n}\r\n\r\nconst query = (url, data, type = 'json') => {\r\n  type === 'file' && (type = 'body');\r\n  return fetch(url, {method: 'post', body: data})\r\n    .then(res => type === 'json' ? res.text() : res).then(\r\n      data => {\r\n        if (type === 'json') return checkJSON(data, type);\r\n        else if (type === 'body') return downloadBody(data);\r\n        else return data[type]();\r\n      },\r\n      error => console.log(error),\r\n    );\r\n};\r\n\r\n/**\r\n * @type {{Post: (function({url?: *, data?: *, type?: *}): Promise),\r\n * Get: (function({url: *, data: *, type?: *}): Promise)}}\r\n */\r\nexport const q = {\r\n\r\n  /**\r\n   * @param url\r\n   * @param data\r\n   * @param type\r\n   * @return {*}\r\n   * @constructor\r\n   */\r\n  Get: ({url = c.MAIN_PHP_PATH, data, type = 'json'}) => query(url + '?' + data, '', type),\r\n\r\n  /**\r\n   * Fetch Post function\r\n   * @param url\r\n   * @param data\r\n   * @param type\r\n   * @returns {Promise<Response>}\r\n   */\r\n  Post: ({url = c.MAIN_PHP_PATH, data, type = 'json'}) => query(url, data, type),\r\n\r\n};\r\n","'use strict'\r\n\r\nconst getCustomElements = () => {\r\n  let element;\r\n\r\n  customElements.define('shadow-calc', class extends HTMLElement {\r\n    connectedCallback() {\r\n      element = this.attachShadow({ mode: 'open' });\r\n    }\r\n  });\r\n\r\n  return element;\r\n}\r\n\r\nexport class shadowNode {\r\n\r\n  constructor() {\r\n    this.customElements = getCustomElements();\r\n    this.customElements && this.init();\r\n  }\r\n\r\n  init() {\r\n    let shadowRoot = this.customElements,\r\n        node = f.qS('#wrapCalcNode');\r\n\r\n    shadowRoot.innerHTML = '';\r\n    node.querySelectorAll('link[data-href]').forEach(n => {\r\n      if (n.dataset.global) document.head.append(n);\r\n      n.href = n.dataset.href;\r\n    });\r\n    shadowRoot.append(node);\r\n    node.style.display = 'block';\r\n\r\n    /*const template     = document.createElement('template');\r\n     template.innerHTML = `<slot></slot><slot name=\"styles\"></slot>`;\r\n     this.shadowRoot.append(template.content.cloneNode(true));\r\n     const style = this.shadowRoot.querySelector('slot').assignedNodes();\r\n     this.shadowRoot.append(style[0]);*/\r\n  }\r\n\r\n}\r\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","\"use strict\";\r\n\r\n//import '../css/admin/admin.scss';\r\n\r\nimport {c} from \"./components/const.js\";\r\nimport {f} from \"./components/func.js\";\r\n\r\nimport * as module from './components/component.js';\r\nimport { Modal } from './components/modal.js';\r\nimport { shadowNode } from './components/shadownode.js';\r\n\r\nconst m = {\r\n  initModal : Modal,\r\n  initPrint : module.Print,\r\n\r\n  searchInit: module.Searching,\r\n\r\n  /**\r\n   * Validation component\r\n   * autodetect input field with attribute \"require\" and show error/valid.\r\n   *\r\n   * @param param {{sendFunc: function,\r\n   * formNode: HTMLFormElement,\r\n   * formSelector: string,\r\n   * submitNode: HTMLElement,\r\n   * submitSelector: string,\r\n   * fileFieldSelector: string,\r\n   * initMask: boolean,\r\n   * phoneMask: string,\r\n   * cssMask: object}}\r\n   * @param param.sendFunc - exec func for event click (default = () => {}),\r\n   * @param param.formSelector - form selector (default: #authForm),\r\n   * @param param.submitSelector - btn selector (default: #btnConfirm),\r\n   * @param param.fileFieldSelector - field selector for show attachment files information,\r\n   * @param param.cssClass = {\r\n   *     error: will be added class for node (default: 'cl-input-error'),\r\n   *     valid: will be added class for node (default: 'cl-input-valid'),\r\n   *   },\r\n   * @param param.debug: submit btn be activated (def: false),\r\n   * @param param.initMask: use mask for field whit type \"tel\" (def: true),\r\n   * @param param.phoneMask: mask matrix (def: from global constant),\r\n   *\r\n   * @example mask: new f.Valid({phoneMask: '+1 (\\_\\_) \\_\\_\\_'});\r\n   */\r\n  Valid : module.Valid,\r\n  //initValid : (sendFunc, idForm, idSubmit) => module.valid.init(sendFunc, idForm, idSubmit),\r\n\r\n  Pagination: module.Pagination,\r\n\r\n  SortColumns: module.SortColumns,\r\n\r\n  /**\r\n   *\r\n   * @param msg\r\n   * @param type (success, warning, error)\r\n   * @param autoClose bool\r\n   */\r\n  showMsg: (msg, type, autoClose) => new module.MessageToast().show(msg, type, autoClose),\r\n  LoaderIcon: module.LoaderIcon,\r\n\r\n  /**\r\n   *\r\n   */\r\n  initShadow: (param) => new shadowNode(param),\r\n\r\n  /**\r\n   *\r\n   */\r\n  InitSaveVisitorsOrder: module.SaveVisitorsOrder,\r\n};\r\n\r\nwindow.f = Object.assign(c, m, f);\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;;;;;;;;;;;;ACr3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;;;;;;;;;;;;;;AC1CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;;;;;;;;;;;;;;AClcA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;;;;;;;;;;;;;AC5HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;;;;;;;;;;;;ACnEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A;;;;AC1CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;ACvBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;ACPA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;ACNA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;A","sourceRoot":""}